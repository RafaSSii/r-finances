<!DOCTYPE html>
<html>
<head>
  <title>Finance</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
  <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
</head>

<body class="bg-gray-100 font-sans">

  <!-- BOTÃO DE ABRIR MENU -->
  <button 
    onclick="toggleSidebar()" 
    class="fixed top-5 left-5 z-50 bg-white/60 backdrop-blur-md shadow-lg px-4 py-2 rounded-xl text-xl"
  >
    ☰
  </button>

  <!-- SIDEBAR -->
  <aside 
    id="sidebar"
    class="fixed left-0 top-0 h-screen w-64 -translate-x-64 transition-transform duration-300
           bg-white/60 backdrop-blur-xl shadow-xl border-r border-white/30
           rounded-r-2xl p-6 z-40"
  >

    <!-- BOTÃO DE FECHAR -->
    <button 
      onclick="toggleSidebar()" 
      class="absolute top-4 right-4 text-xl opacity-60 hover:opacity-100"
    >
      ✕
    </button>

    <!-- MENU -->
    <nav class="mt-12 space-y-4">
      <%= link_to "Dashboard", dashboard_index_path, 
          class: "block px-3 py-2 rounded-lg hover:bg-black/10 transition" %>

      <%= link_to "Configurações", "#", 
          class: "block px-3 py-2 rounded-lg hover:bg-black/10 transition" %>

      <%= button_to "Sair", logout_path, method: :delete,
          class: "mt-6 w-full bg-red-500 text-white py-2 rounded-lg" %>
    </nav>
  </aside>

  <!-- CONTEÚDO -->
  <main id="content" class="transition-all duration-300 p-10">
    <%= yield %>
  </main>

  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      const content = document.getElementById("content");

      sidebar.classList.toggle("-translate-x-64");
      content.classList.toggle("ml-64");
    }
  </script>

</body>
</html>
